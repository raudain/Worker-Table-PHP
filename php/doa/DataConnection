<?php
require_once 'DatabaseCredentials.php';

/**
 * <br/>
 * CLASS DESCRIPTION: <br/>
 * 
 * A helper class that centralizes the management of data connections in the
 * underlying database. <br/>
 * 
 * @author krishna.kishore, Roody Audain
 * 
 */
class DataConnection {

	// New instance of Connection
	private $connection = null;

	/**
	 * <br/>
	 * METHOD DESCRIPTION: <br/>
	 * 
	 * Open connection to access the underlying database. <br/>
	 * 
	 * @return Connection
	 * 
	 * @throws ClassNotFoundException
	 * @throws SQLException
	 * 
	 */
	function createConnection() {
		
        $servername = getHost();
        $dbname = getName();
        $username = getUser();
        $password = getPassword();
        try {
            $connection = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
            // set the PDO error mode to exception
            $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
            echo "Connected successfully";
          } catch(PDOException $e) {
            echo "Connection failed: " . $e->getMessage();
          }
		return connection;
	}
}
